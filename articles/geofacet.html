<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to geofacet • geofacet</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to geofacet">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">geofacet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/geofacet.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hafen/geofacet/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to geofacet</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/hafen/geofacet/blob/master/vignettes/geofacet.Rmd" class="external-link"><code>vignettes/geofacet.Rmd</code></a></small>
      <div class="hidden name"><code>geofacet.Rmd</code></div>

    </div>

    
    
<p>The geofacet R package provides a way to flexibly visualize data for
different geographical regions by providing a ggplot2 faceting function
<code><a href="../reference/facet_geo.html">facet_geo()</a></code> which works just like ggplot2’s built-in
faceting, except that the resulting arrangement of panels follows a grid
that mimics the original geographic topology as closely as possible.</p>
<p>The idea is similar to that of the <a href="https://github.com/hrbrmstr/statebins" class="external-link">statebin</a>, providing the
additional benefits:</p>
<ul>
<li>Each cell in the grid can present any amount of data instead of a
single value</li>
<li>Each cell in the grid can be composed of any kind of plot
conceivable with ggplot2</li>
<li>Grids representing any geographic topology (via a set of built-in or
user-defined grids) can be used</li>
</ul>
<p>The merits of this visualization approach are not discussed at length
here but will be addressed in a blog post soon (link will be provided
when posted) along with a history this approach being used in the
past.</p>
<div class="section level2">
<h2 id="installation-and-setup">Installation and Setup<a class="anchor" aria-label="anchor" href="#installation-and-setup"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"geofacet"</span><span class="op">)</span></span>
<span><span class="co"># or from github:</span></span>
<span><span class="co"># remotes::install_github("hafen/geofacet")</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hafen/geofacet" class="external-link">geofacet</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The main function in this package is <code><a href="../reference/facet_geo.html">facet_geo()</a></code> and its
use can be thought of as equivalent to ggplot2’s
<code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap()</a></code> except for the output it creates. If you know
how to use ggplot2, then you essentially know how to use this
package.</p>
<p>Let’s consider an example based on <a href="https://www.axios.com/2017/12/15/the-emoji-states-of-america-1513302318" class="external-link">this
article</a>, which uses emoji / Chernoff faces to show various
quality-of-life metrics for US states.</p>
<p>This data is available in the geofacet package under the name
<code>state_ranks</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">state_ranks</span><span class="op">)</span></span>
<span><span class="co">#&gt;   state   name   variable rank</span></span>
<span><span class="co">#&gt; 1    AK Alaska  education   28</span></span>
<span><span class="co">#&gt; 2    AK Alaska employment   50</span></span>
<span><span class="co">#&gt; 3    AK Alaska     health   25</span></span>
<span><span class="co">#&gt; 4    AK Alaska     wealth    5</span></span>
<span><span class="co">#&gt; 5    AK Alaska      sleep   27</span></span>
<span><span class="co">#&gt; 6    AK Alaska    insured   50</span></span></code></pre></div>
<p>A state with a rank of 1 is doing the best in the category and a rank
of 51 is the worst (Washington DC is included).</p>
<p>Let’s use geofacet to create a bar chart of the state rankings. To do
so, we create a ggplot2 plot using <code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col()</a></code> to make a bar
chart of the variable vs. rank. Then, instead of using
<code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap()</a></code> to facet the plot by state, we instead use
<code><a href="../reference/facet_geo.html">facet_geo()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">state_ranks</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">variable</span>, <span class="va">rank</span>, fill <span class="op">=</span> <span class="va">variable</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/facet_geo.html">facet_geo</a></span><span class="op">(</span><span class="op">~</span> <span class="va">state</span><span class="op">)</span></span></code></pre></div>
<p><img src="geofacet_files/figure-html/state_rank-1.png" width="1152"></p>
<p>While this plot may not be as fun as the Chernoff faces, geofacet
allows us to use a much more powerful visual encoding system (length of
bars) to help the viewer much more effectively grasp what is going on in
the data. For example, states with very low rankings across most
variables (HI, VT, CO, MN) stand out, and geographical trends such as
the southern states consistently showing up in the bottom of the
rankings stands out as well. Why don’t people sleep in Hawaii?</p>
<p>This plot helps illustrate a couple of advantages this approach has
over a traditional geographical visualization approaches such as
choropleth plots:</p>
<ul>
<li>We can plot multiple values per geographical entity</li>
<li>We can use more effective visual encoding schemes (color, which is
used in choropleth-type maps, is one of the <a href="https://flowingdata.com/2010/03/20/graphical-perception-learn-the-fundamentals-first/" class="external-link">least
effective</a> ways to visually encode information)</li>
</ul>
<p>Note that other than the arrangement of the facets, every other
aspect of this plot behaves in the way you would expect a ggplot2 plot
to behave (such as themes, flipping coordinates, etc.).</p>
<div class="section level3">
<h3 id="geofacet-options">Geofacet Options<a class="anchor" aria-label="anchor" href="#geofacet-options"></a>
</h3>
<p>There are a few options in <code><a href="../reference/facet_geo.html">facet_geo()</a></code> worth
discussing:</p>
<ul>
<li>With the <code>grid</code> argument, we can provide either a string
specifying a built-in named grid to use, or we can provide our own grid
as a data frame.</li>
<li>With the <code>label</code> argument, we can specify which grid
variable we want to use to label the facets.</li>
</ul>
<p>For example, another built-in grid in the package is called
“us_state_grid2”.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">us_state_grid2</span><span class="op">)</span></span>
<span><span class="co">#&gt;   row col code       name</span></span>
<span><span class="co">#&gt; 1   6   7   AL    Alabama</span></span>
<span><span class="co">#&gt; 2   1   1   AK     Alaska</span></span>
<span><span class="co">#&gt; 3   6   2   AZ    Arizona</span></span>
<span><span class="co">#&gt; 4   6   5   AR   Arkansas</span></span>
<span><span class="co">#&gt; 5   6   1   CA California</span></span>
<span><span class="co">#&gt; 6   5   3   CO   Colorado</span></span></code></pre></div>
<p>Let’s use this grid to plot the seasonally adjusted US unemployment
rate over time, using the state names as the facet labels:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">state_unemp</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">rate</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/facet_geo.html">facet_geo</a></span><span class="op">(</span><span class="op">~</span> <span class="va">state</span>, grid <span class="op">=</span> <span class="st">"us_state_grid2"</span>, label <span class="op">=</span> <span class="st">"name"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"'"</span>, <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Seasonally Adjusted US Unemployment Rate 2000-2016"</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Data Source: bls.gov"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Year"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Unemployment Rate (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>strip.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="geofacet_files/figure-html/state_unemp-1.png" width="1152"></p>
<p>With this we can see how the unemployment rate varies per state and
how some of the patterns are spatially similar.</p>
</div>
</div>
<div class="section level2">
<h2 id="other-grids">Other Grids<a class="anchor" aria-label="anchor" href="#other-grids"></a>
</h2>
<p>Specifying a grid is as easy as creating a data frame with columns
containing the names and commonly-used codes for the geographical
entities, as well as a <code>row</code> and <code>col</code> variable
specifying where the entity belongs on the grid.</p>
<p>For example, another grid in the package is a grid for the 28
European Union countries, <code>eu_grid1</code>. Here we plot the GDP
per capita over time for each country in the EU:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">eu_gdp</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">gdp_pc</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"steelblue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/facet_geo.html">facet_geo</a></span><span class="op">(</span><span class="op">~</span> <span class="va">name</span>, grid <span class="op">=</span> <span class="st">"eu_grid1"</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"'"</span>, <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"GDP Per Capita in Relation to EU Index (100)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="geofacet_files/figure-html/eu_gdp-1.png" width="960"></p>
<p>In this plot we are using a “free” y-axis, allowing the range of the
y-axis to fill the available plotting space for each country. We do this
because there is a large range of mean GDP across countries. Ideally
ggplot2 would have a “sliced” axis range option that allows the y-axis
range to vary but with each panel’s axis having the same length of
range, making for a more meaningful comparison across countries.</p>
<p>This plot illustrates one potential downside of a geofaceted plot,
which is that if the viewer is not already familiar with the underlying
geography, the layout may not be very meaningful. There are some ideas
to help with this that are being investigated.</p>
<div class="section level3">
<h3 id="list-available-grids">List available grids<a class="anchor" aria-label="anchor" href="#list-available-grids"></a>
</h3>
<p>To get the list of names of available grids:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_grid_names.html">get_grid_names</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Note: More grids are available by name as listed here: https://raw.githubusercontent.com/hafen/grid-designer/master/grid_list.json</span></span>
<span><span class="co">#&gt;   [1] "us_state_grid1"                           </span></span>
<span><span class="co">#&gt;   [2] "us_state_grid2"                           </span></span>
<span><span class="co">#&gt;   [3] "eu_grid1"                                 </span></span>
<span><span class="co">#&gt;   [4] "aus_grid1"                                </span></span>
<span><span class="co">#&gt;   [5] "sa_prov_grid1"                            </span></span>
<span><span class="co">#&gt;   [6] "gb_london_boroughs_grid"                  </span></span>
<span><span class="co">#&gt;   [7] "nhs_scot_grid"                            </span></span>
<span><span class="co">#&gt;   [8] "india_grid1"                              </span></span>
<span><span class="co">#&gt;   [9] "india_grid2"                              </span></span>
<span><span class="co">#&gt;  [10] "argentina_grid1"                          </span></span>
<span><span class="co">#&gt;  [11] "br_states_grid1"                          </span></span>
<span><span class="co">#&gt;  [12] "sea_grid1"                                </span></span>
<span><span class="co">#&gt;  [13] "mys_grid1"                                </span></span>
<span><span class="co">#&gt;  [14] "fr_regions_grid1"                         </span></span>
<span><span class="co">#&gt;  [15] "de_states_grid1"                          </span></span>
<span><span class="co">#&gt;  [16] "us_or_counties_grid1"                     </span></span>
<span><span class="co">#&gt;  [17] "us_wa_counties_grid1"                     </span></span>
<span><span class="co">#&gt;  [18] "us_in_counties_grid1"                     </span></span>
<span><span class="co">#&gt;  [19] "us_in_central_counties_grid1"             </span></span>
<span><span class="co">#&gt;  [20] "se_counties_grid1"                        </span></span>
<span><span class="co">#&gt;  [21] "sf_bay_area_counties_grid1"               </span></span>
<span><span class="co">#&gt;  [22] "ua_region_grid1"                          </span></span>
<span><span class="co">#&gt;  [23] "mx_state_grid1"                           </span></span>
<span><span class="co">#&gt;  [24] "mx_state_grid2"                           </span></span>
<span><span class="co">#&gt;  [25] "scotland_local_authority_grid1"           </span></span>
<span><span class="co">#&gt;  [26] "us_state_without_DC_grid1"                </span></span>
<span><span class="co">#&gt;  [27] "italy_grid1"                              </span></span>
<span><span class="co">#&gt;  [28] "italy_grid2"                              </span></span>
<span><span class="co">#&gt;  [29] "be_province_grid1"                        </span></span>
<span><span class="co">#&gt;  [30] "us_state_grid3"                           </span></span>
<span><span class="co">#&gt;  [31] "jp_prefs_grid1"                           </span></span>
<span><span class="co">#&gt;  [32] "ng_state_grid1"                           </span></span>
<span><span class="co">#&gt;  [33] "bd_upazila_grid1"                         </span></span>
<span><span class="co">#&gt;  [34] "spain_prov_grid1"                         </span></span>
<span><span class="co">#&gt;  [35] "ch_cantons_grid1"                         </span></span>
<span><span class="co">#&gt;  [36] "ch_cantons_grid2"                         </span></span>
<span><span class="co">#&gt;  [37] "china_prov_grid1"                         </span></span>
<span><span class="co">#&gt;  [38] "world_86countries_grid"                   </span></span>
<span><span class="co">#&gt;  [39] "se_counties_grid2"                        </span></span>
<span><span class="co">#&gt;  [40] "uk_regions1"                              </span></span>
<span><span class="co">#&gt;  [41] "us_state_contiguous_grid1"                </span></span>
<span><span class="co">#&gt;  [42] "sk_province_grid1"                        </span></span>
<span><span class="co">#&gt;  [43] "ch_aargau_districts_grid1"                </span></span>
<span><span class="co">#&gt;  [44] "jo_gov_grid1"                             </span></span>
<span><span class="co">#&gt;  [45] "spain_ccaa_grid1"                         </span></span>
<span><span class="co">#&gt;  [46] "spain_prov_grid2"                         </span></span>
<span><span class="co">#&gt;  [47] "world_countries_grid1"                    </span></span>
<span><span class="co">#&gt;  [48] "br_states_grid2"                          </span></span>
<span><span class="co">#&gt;  [49] "china_city_grid1"                         </span></span>
<span><span class="co">#&gt;  [50] "kr_seoul_district_grid1"                  </span></span>
<span><span class="co">#&gt;  [51] "nz_regions_grid1"                         </span></span>
<span><span class="co">#&gt;  [52] "sl_regions_grid1"                         </span></span>
<span><span class="co">#&gt;  [53] "us_census_div_grid1"                      </span></span>
<span><span class="co">#&gt;  [54] "ar_tucuman_province_grid1"                </span></span>
<span><span class="co">#&gt;  [55] "us_nh_counties_grid1"                     </span></span>
<span><span class="co">#&gt;  [56] "china_prov_grid2"                         </span></span>
<span><span class="co">#&gt;  [57] "pl_voivodeships_grid1"                    </span></span>
<span><span class="co">#&gt;  [58] "us_ia_counties_grid1"                     </span></span>
<span><span class="co">#&gt;  [59] "us_id_counties_grid1"                     </span></span>
<span><span class="co">#&gt;  [60] "ar_cordoba_dep_grid1"                     </span></span>
<span><span class="co">#&gt;  [61] "us_fl_counties_grid1"                     </span></span>
<span><span class="co">#&gt;  [62] "ar_buenosaires_communes_grid1"            </span></span>
<span><span class="co">#&gt;  [63] "nz_regions_grid2"                         </span></span>
<span><span class="co">#&gt;  [64] "oecd_grid1"                               </span></span>
<span><span class="co">#&gt;  [65] "ec_prov_grid1"                            </span></span>
<span><span class="co">#&gt;  [66] "nl_prov_grid1"                            </span></span>
<span><span class="co">#&gt;  [67] "ca_prov_grid1"                            </span></span>
<span><span class="co">#&gt;  [68] "us_nc_counties_grid1"                     </span></span>
<span><span class="co">#&gt;  [69] "mx_ciudad_prov_grid1"                     </span></span>
<span><span class="co">#&gt;  [70] "bg_prov_grid1"                            </span></span>
<span><span class="co">#&gt;  [71] "us_hhs_regions_grid1"                     </span></span>
<span><span class="co">#&gt;  [72] "tw_counties_grid1"                        </span></span>
<span><span class="co">#&gt;  [73] "tw_counties_grid2"                        </span></span>
<span><span class="co">#&gt;  [74] "af_prov_grid1"                            </span></span>
<span><span class="co">#&gt;  [75] "us_mi_counties_grid1"                     </span></span>
<span><span class="co">#&gt;  [76] "pe_prov_grid1"                            </span></span>
<span><span class="co">#&gt;  [77] "sa_prov_grid2"                            </span></span>
<span><span class="co">#&gt;  [78] "mx_state_grid3"                           </span></span>
<span><span class="co">#&gt;  [79] "cn_bj_districts_grid1"                    </span></span>
<span><span class="co">#&gt;  [80] "us_va_counties_grid1"                     </span></span>
<span><span class="co">#&gt;  [81] "us_mo_counties_grid1"                     </span></span>
<span><span class="co">#&gt;  [82] "cl_santiago_prov_grid1"                   </span></span>
<span><span class="co">#&gt;  [83] "us_tx_capcog_counties_grid1"              </span></span>
<span><span class="co">#&gt;  [84] "sg_planning_area_grid1"                   </span></span>
<span><span class="co">#&gt;  [85] "in_state_ut_grid1"                        </span></span>
<span><span class="co">#&gt;  [86] "cn_fujian_prov_grid1"                     </span></span>
<span><span class="co">#&gt;  [87] "ca_quebec_electoral_districts_grid1"      </span></span>
<span><span class="co">#&gt;  [88] "nl_prov_grid2"                            </span></span>
<span><span class="co">#&gt;  [89] "cn_bj_districts_grid2"                    </span></span>
<span><span class="co">#&gt;  [90] "ar_santiago_del_estero_prov_grid1"        </span></span>
<span><span class="co">#&gt;  [91] "ar_formosa_prov_grid1"                    </span></span>
<span><span class="co">#&gt;  [92] "ar_chaco_prov_grid1"                      </span></span>
<span><span class="co">#&gt;  [93] "ar_catamarca_prov_grid1"                  </span></span>
<span><span class="co">#&gt;  [94] "ar_jujuy_prov_grid1"                      </span></span>
<span><span class="co">#&gt;  [95] "ar_neuquen_prov_grid1"                    </span></span>
<span><span class="co">#&gt;  [96] "ar_san_luis_prov_grid1"                   </span></span>
<span><span class="co">#&gt;  [97] "ar_san_juan_prov_grid1"                   </span></span>
<span><span class="co">#&gt;  [98] "ar_santa_fe_prov_grid1"                   </span></span>
<span><span class="co">#&gt;  [99] "ar_la_rioja_prov_grid1"                   </span></span>
<span><span class="co">#&gt; [100] "ar_mendoza_prov_grid1"                    </span></span>
<span><span class="co">#&gt; [101] "ar_salta_prov_grid1"                      </span></span>
<span><span class="co">#&gt; [102] "ar_rio_negro_prov_grid1"                  </span></span>
<span><span class="co">#&gt; [103] "uy_departamentos_grid1"                   </span></span>
<span><span class="co">#&gt; [104] "ar_buenos_aires_prov_electoral_dist_grid1"</span></span>
<span><span class="co">#&gt; [105] "europe_countries_grid1"                   </span></span>
<span><span class="co">#&gt; [106] "argentina_grid2"                          </span></span>
<span><span class="co">#&gt; [107] "us_state_without_DC_grid2"                </span></span>
<span><span class="co">#&gt; [108] "jp_prefs_grid2"                           </span></span>
<span><span class="co">#&gt; [109] "na_regions_grid1"                         </span></span>
<span><span class="co">#&gt; [110] "mm_state_grid1"                           </span></span>
<span><span class="co">#&gt; [111] "us_state_with_DC_PR_grid1"                </span></span>
<span><span class="co">#&gt; [112] "fr_departements_grid1"                    </span></span>
<span><span class="co">#&gt; [113] "ar_salta_prov_grid2"                      </span></span>
<span><span class="co">#&gt; [114] "ie_counties_grid1"                        </span></span>
<span><span class="co">#&gt; [115] "sg_regions_grid1"                         </span></span>
<span><span class="co">#&gt; [116] "us_ny_counties_grid1"                     </span></span>
<span><span class="co">#&gt; [117] "ru_federal_subjects_grid1"                </span></span>
<span><span class="co">#&gt; [118] "us_ca_counties_grid1"                     </span></span>
<span><span class="co">#&gt; [119] "lk_districts_grid1"                       </span></span>
<span><span class="co">#&gt; [120] "us_state_without_DC_grid3"                </span></span>
<span><span class="co">#&gt; [121] "co_cali_subdivisions_grid1"               </span></span>
<span><span class="co">#&gt; [122] "us_in_northern_counties_grid1"            </span></span>
<span><span class="co">#&gt; [123] "italy_grid3"                              </span></span>
<span><span class="co">#&gt; [124] "us_state_with_DC_PR_grid2"                </span></span>
<span><span class="co">#&gt; [125] "us_state_grid7"                           </span></span>
<span><span class="co">#&gt; [126] "sg_planning_area_grid2"                   </span></span>
<span><span class="co">#&gt; [127] "ch_cantons_fl_grid1"                      </span></span>
<span><span class="co">#&gt; [128] "europe_countries_grid2"                   </span></span>
<span><span class="co">#&gt; [129] "us_states_territories_grid1"              </span></span>
<span><span class="co">#&gt; [130] "us_tn_counties_grid1"                     </span></span>
<span><span class="co">#&gt; [131] "us_il_chicago_community_areas_grid1"      </span></span>
<span><span class="co">#&gt; [132] "us_state_with_DC_PR_grid3"                </span></span>
<span><span class="co">#&gt; [133] "in_state_ut_grid2"                        </span></span>
<span><span class="co">#&gt; [134] "at_states_grid1"                          </span></span>
<span><span class="co">#&gt; [135] "us_pa_counties_grid1"                     </span></span>
<span><span class="co">#&gt; [136] "us_oh_counties_grid1"                     </span></span>
<span><span class="co">#&gt; [137] "fr_departements_grid2"                    </span></span>
<span><span class="co">#&gt; [138] "us_wi_counties_grid1"                     </span></span>
<span><span class="co">#&gt; [139] "africa_countries_grid1"                   </span></span>
<span><span class="co">#&gt; [140] "no_counties_grid1"                        </span></span>
<span><span class="co">#&gt; [141] "tr_provinces_grid1"</span></span></code></pre></div>
<p>At the end of this vignette you can find several examples of these
grids in action. You can learn how to submit your own below.</p>
</div>
<div class="section level3">
<h3 id="creating-your-own-grid">Creating your own grid<a class="anchor" aria-label="anchor" href="#creating-your-own-grid"></a>
</h3>
<p>Creating your own grid is as easy as specifying a data frame with
columns <code>row</code> and <code>col</code> containing unique pairs of
positive integers indicating grid locations and columns beginning with
<code>name</code> and <code>code</code>. You may want to provide
different options for names, such as names in different languages, or
different kinds of country codes, etc. (see <code>sa_prov_grid1</code>
for example).</p>
<p>One way to create a grid is to take an existing one and modify it.
For example, suppose we don’t like where Wisconsin is located. We can
simply change its location and preview the resulting grid with
<code><a href="../reference/grid_preview.html">grid_preview()</a></code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_grid</span> <span class="op">&lt;-</span> <span class="va">us_state_grid1</span></span>
<span><span class="va">my_grid</span><span class="op">$</span><span class="va">col</span><span class="op">[</span><span class="va">my_grid</span><span class="op">$</span><span class="va">code</span> <span class="op">==</span> <span class="st">"WI"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">7</span></span>
<span><span class="fu"><a href="../reference/grid_preview.html">grid_preview</a></span><span class="op">(</span><span class="va">my_grid</span><span class="op">)</span></span></code></pre></div>
<p><img src="geofacet_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>A much more fun way to design a grid is with a JavaScript app, <a href="https://hafen.github.io/grid-designer/" class="external-link">“Grid Designer”</a>. You
can launch this application starting from scratch by visiting <a href="https://hafen.github.io/grid-designer/" class="external-link">this link</a> or from R by
calling:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/grid_design.html">grid_design</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This will open up a web application with an empty grid and
instructions on how to fill it out. Basically you just need to paste in
csv content about the geographic entities (the <code>row</code> and
<code>col</code> columns are not required at this point). For example,
you might go to wikipedia to get a list of the names of counties in the
state of Washington and enter in that list into the app. Then a grid of
squares with these column attributes will be populated and you can
interactively drag the squares around to get the grid you want. You can
also add a link to a reference map to help you as you arrange the
tiles.</p>
<p>Another way to use the designer is to populate it with an existing
grid you want to modify. For example, if I want to modify
<code>us_state_grid1</code>, I can call:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/grid_design.html">grid_design</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">us_state_grid2</span>, img <span class="op">=</span> <span class="st">"https://bit.ly/us-grid"</span><span class="op">)</span></span></code></pre></div>
<p>The app will look like this:</p>
<p><img src="https://user-images.githubusercontent.com/1275592/27321712-1fe9c818-5550-11e7-80e2-ce2afeb53734.png"></p>
<p>If you want to visit the app and edit this example live in a
dedicated window, click <a href="https://hafen.github.io/grid-designer/#img=http%3A%2F%2Fbit.ly%2Fus-grid&amp;data=row%2Ccol%2Ccode%2Cname%0A1%2C11%2CME%2CMaine%0A1%2C10%2CNH%2CNew%20Hampshire%0A1%2C9%2CVT%2CVermont%0A1%2C6%2CWI%2CWisconsin%0A2%2C2%2CID%2CIdaho%0A2%2C6%2CIL%2CIllinois%0A2%2C10%2CMA%2CMassachusetts%0A2%2C7%2CMI%2CMichigan%0A2%2C5%2CMN%2CMinnesota%0A2%2C3%2CMT%2CMontana%0A2%2C9%2CNY%2CNew%20York%0A2%2C4%2CND%2CNorth%20Dakota%0A2%2C1%2CWA%2CWashington%0A3%2C10%2CCT%2CConnecticut%0A3%2C6%2CIN%2CIndiana%0A3%2C5%2CIA%2CIowa%0A3%2C2%2CNV%2CNevada%0A3%2C9%2CNJ%2CNew%20Jersey%0A3%2C7%2COH%2COhio%0A3%2C1%2COR%2COregon%0A3%2C8%2CPA%2CPennsylvania%0A3%2C11%2CRI%2CRhode%20Island%0A3%2C4%2CSD%2CSouth%20Dakota%0A3%2C3%2CWY%2CWyoming%0A4%2C1%2CCA%2CCalifornia%0A4%2C3%2CCO%2CColorado%0A4%2C10%2CDE%2CDelaware%0A4%2C6%2CKY%2CKentucky%0A4%2C9%2CMD%2CMaryland%0A4%2C5%2CMO%2CMissouri%0A4%2C4%2CNE%2CNebraska%0A4%2C2%2CUT%2CUtah%0A4%2C8%2CVA%2CVirginia%0A4%2C7%2CWV%2CWest%20Virginia%0A5%2C2%2CAZ%2CArizona%0A5%2C5%2CAR%2CArkansas%0A5%2C4%2CKS%2CKansas%0A5%2C3%2CNM%2CNew%20Mexico%0A5%2C7%2CNC%2CNorth%20Carolina%0A5%2C8%2CSC%2CSouth%20Carolina%0A5%2C6%2CTN%2CTennessee%0A5%2C9%2CDC%2CDistrict%20of%20Columbia%0A6%2C7%2CAL%2CAlabama%0A6%2C8%2CGA%2CGeorgia%0A6%2C5%2CLA%2CLouisiana%0A6%2C6%2CMS%2CMississippi%0A6%2C4%2COK%2COklahoma%0A7%2C2%2CAK%2CAlaska%0A7%2C9%2CFL%2CFlorida%0A7%2C1%2CHI%2CHawaii%0A7%2C4%2CTX%2CTexas" class="external-link">here</a>.</p>
</div>
<div class="section level3">
<h3 id="submitting-a-grid">Submitting a grid<a class="anchor" aria-label="anchor" href="#submitting-a-grid"></a>
</h3>
<p>One of the most important features of this package is its facilities
for encouraging and making it easy for users to create and
<em>share</em> their grids. Creating a grid is usually very subjective
and it is difficult to automate. Therefore we want this package to be a
resource for making it easy to crowdsource the creation of useful
grids.</p>
<p>There are two ways to share a grid. If you created a grid
<code>my_grid</code> in R, you can run:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/grid_submit.html">grid_submit</a></span><span class="op">(</span><span class="va">my_grid</span>, name <span class="op">=</span> <span class="st">"my_grid1"</span>, desc <span class="op">=</span> <span class="st">"An awesome grid..."</span><span class="op">)</span></span></code></pre></div>
<p>This will open up a GitHub issue with a template for you to fill out.
You can look at closed issues for examples of other grid
submissions.</p>
<p>The other way to submit a grid is to use the grid designer app and
when you are done, click the “Submit Grid to GitHub” button, where in a
similar fashion a GitHub issue will be opened.</p>
<p>Note that both of these approaches require you to have a GitHub
account.</p>
</div>
</div>
<div class="section level2">
<h2 id="more-examples">More Examples<a class="anchor" aria-label="anchor" href="#more-examples"></a>
</h2>
<div class="section level3">
<h3 id="australian-population-by-age-group">Australian population by age group<a class="anchor" aria-label="anchor" href="#australian-population-by-age-group"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">aus_pop</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">age_group</span>, <span class="va">pop</span> <span class="op">/</span> <span class="fl">1e6</span>, fill <span class="op">=</span> <span class="va">age_group</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/facet_geo.html">facet_geo</a></span><span class="op">(</span><span class="op">~</span> <span class="va">code</span>, grid <span class="op">=</span> <span class="st">"aus_grid1"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Australian Population Breakdown"</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Data Source: ABS Labour Force Survey, 12 month average"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Population [Millions]"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="geofacet_files/figure-html/aus_pop-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="south-africa-population-density-by-province">South Africa population density by province<a class="anchor" aria-label="anchor" href="#south-africa-population-density-by-province"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">sa_pop_dens</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span>, <span class="va">density</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/facet_geo.html">facet_geo</a></span><span class="op">(</span><span class="op">~</span> <span class="va">province</span>, grid <span class="op">=</span> <span class="st">"sa_prov_grid1"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"South Africa population density by province"</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Data Source: Statistics SA Census"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Population density per square km"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="geofacet_files/figure-html/sa_pop-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="affordable-housing-starts-by-year-for-boroughs-in-london">Affordable housing starts by year for boroughs in London<a class="anchor" aria-label="anchor" href="#affordable-housing-starts-by-year-for-boroughs-in-london"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">london_afford</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">starts</span>, fill <span class="op">=</span> <span class="va">year</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/facet_geo.html">facet_geo</a></span><span class="op">(</span><span class="op">~</span> <span class="va">code</span>, grid <span class="op">=</span> <span class="st">"gb_london_boroughs_grid"</span>, label <span class="op">=</span> <span class="st">"name"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Affordable Housing Starts in London"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Each Borough, 2015-16 to 2016-17"</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Source: London Datastore"</span>, x <span class="op">=</span> <span class="st">""</span>, y <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div>
<p><img src="geofacet_files/figure-html/london_afford-1.png" width="1094.4"></p>
</div>
<div class="section level3">
<h3 id="dental-health-in-scotland">Dental health in Scotland<a class="anchor" aria-label="anchor" href="#dental-health-in-scotland"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">nhs_scot_dental</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">percent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/facet_geo.html">facet_geo</a></span><span class="op">(</span><span class="op">~</span> <span class="va">name</span>, grid <span class="op">=</span> <span class="st">"nhs_scot_grid"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2004</span>, <span class="fl">2007</span>, <span class="fl">2010</span>, <span class="fl">2013</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">80</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Child Dental Health in Scotland"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Percentage of P1 children in Scotland with no obvious decay experience."</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Source: statistics.gov.scot"</span>, x <span class="op">=</span> <span class="st">""</span>, y <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div>
<p><img src="geofacet_files/figure-html/nhs_scot-1.png" width="595.2"></p>
</div>
<div class="section level3">
<h3 id="india-population-breakdown">India population breakdown<a class="anchor" aria-label="anchor" href="#india-population-breakdown"></a>
</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">india_pop</span>, <span class="va">type</span> <span class="op">==</span> <span class="st">"state"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">pop_type</span>, <span class="va">value</span> <span class="op">/</span> <span class="fl">1e6</span>, fill <span class="op">=</span> <span class="va">pop_type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/facet_geo.html">facet_geo</a></span><span class="op">(</span><span class="op">~</span> <span class="va">name</span>, grid <span class="op">=</span> <span class="st">"india_grid2"</span>, label <span class="op">=</span> <span class="st">"code"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Indian Population Breakdown"</span>,</span>
<span>       caption <span class="op">=</span> <span class="st">"Data Source: Wikipedia"</span>,</span>
<span>       x <span class="op">=</span> <span class="st">""</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Population [Millions]"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">40</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="geofacet_files/figure-html/india_pop-1.png" width="825.6"></p>
</div>
<div class="section level3">
<h3 id="a-few-ways-to-look-at-the-2016-election-results">A few ways to look at the 2016 election results<a class="anchor" aria-label="anchor" href="#a-few-ways-to-look-at-the-2016-election-results"></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">election</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="st">""</span>, <span class="va">pct</span>, fill <span class="op">=</span> <span class="va">candidate</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.8</span>, width <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#4e79a7"</span>, <span class="st">"#e15759"</span>, <span class="st">"#59a14f"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/facet_geo.html">facet_geo</a></span><span class="op">(</span><span class="op">~</span> <span class="va">state</span>, grid <span class="op">=</span> <span class="st">"us_state_grid2"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"2016 Election Results"</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Data Source: 2016 National Popular Vote Tracker"</span>,</span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Percentage of Voters"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.title.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    axis.ticks.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    strip.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="geofacet_files/figure-html/election1-1.png" width="1152"></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">election</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">candidate</span>, <span class="va">pct</span>, fill <span class="op">=</span> <span class="va">candidate</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#4e79a7"</span>, <span class="st">"#e15759"</span>, <span class="st">"#59a14f"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/facet_geo.html">facet_geo</a></span><span class="op">(</span><span class="op">~</span> <span class="va">state</span>, grid <span class="op">=</span> <span class="st">"us_state_grid2"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"2016 Election Results"</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Data Source: 2016 National Popular Vote Tracker"</span>,</span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Percentage of Voters"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>strip.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="geofacet_files/figure-html/election2-1.png" width="1152"></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">election</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">candidate</span>, <span class="va">votes</span> <span class="op">/</span> <span class="fl">1000000</span>, fill <span class="op">=</span> <span class="va">candidate</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#4e79a7"</span>, <span class="st">"#e15759"</span>, <span class="st">"#59a14f"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/facet_geo.html">facet_geo</a></span><span class="op">(</span><span class="op">~</span> <span class="va">state</span>, grid <span class="op">=</span> <span class="st">"us_state_grid2"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"2016 Election Results"</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Data Source: 2016 National Popular Vote Tracker"</span>,</span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Votes (millions)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>strip.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="geofacet_files/figure-html/election3-1.png" width="1152"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Ryan Hafen.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
